{% extends "base/dashboard-navbar.html" %}
{% load static %}

{% block title %}Course Work{% endblock %}

{% block fab %}
<div class="fixed-action-btn toolbar">
    <a class="btn-floating btn-large light-blue darken-3">
        <i class="material-icons">create</i>
    </a>
    <ul>
        <li class="waves-effect waves-light">
            <a class="modal-trigger" href="#add-course-modal">Add Course</a>
        </li>
        <li class="waves-effect waves-light">
            <a class="modal-trigger" href="#course-task-modal">Course Task</a>
        </li>
    </ul>
</div>
{% endblock %}

{% block main-content%}
{% for course in courses %}
<div class="row card pad20">
    <div class="col s12"><p class="course-name">{{course.course_name}}</p></div>
    {% for task in course.course_tasks.all %}
    <div class="collection pad10">
        <div class="collection-item">
            <div class="col s6"><h6><b>{{task.name}}</b></h6></div>

            <!-- Switch -->
            <div class="switch col s3">
              <label>
                Pause
                <input type="checkbox">
                <span class="lever"></span>
                Start
              </label>
              <input type="hidden" name="id" value="{{task.task_info.id}}">
            </div>

            <div class="col s3"><a class="waves-effect waves-light btn">Stop</a></div>
            <div class="col s6">Start Date: {{task.task_info.start_date}}</div>
            <div class="col s6">Expected Finish Date: {{task.task_info.expected_finish_date}}</div>

            {% if task.task_info.due_date %}
            <div class="col s6">Due Date: {{task.task_info.due_date}}</div>
            {% endif %}

            {% if task.task_info.comments %}
            <div class="col s12">Comments: {{task.task_info.comments}}</div>
            {% endif %}

            {% if task.task_info.percentage_completion %}
            <div class="col s12">Percentage completion: {{task.task_info.percentage_completion}}</div>
            {% endif %}
        </div>
    </div>
    {% endfor %}
</div>
{% endfor %}
{% endblock %}

{% block modals %}
{% include "modals/course_modal.html" %}
{% include "modals/add_course_modal.html" %}
{% endblock %}

{% block scripts %}
<script src="{% static 'js/task_button.js' %}"></script>
{% endblock %}
